<div class="container mt-4">
  <!-- Hero Section -->
  <div class="hero-section bg-gradient-primary text-white rounded-lg p-5 mb-5">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <h1 class="display-4 fw-bold mb-3">
          <i class="fas fa-building me-3"></i>Internal Hackathon Hub
        </h1>
        <p class="lead mb-4">
          Our company's innovation platform for internal hackathons. Collaborate with colleagues,
          build amazing solutions, and drive internal innovation forward!
        </p>
        <div class="d-flex gap-3 flex-wrap">
          <%= if (current_user.IsOwner()) { %>
            <a href="/hackathons/new" class="btn btn-light btn-lg">
              <i class="fas fa-plus me-2"></i>Create Hackathon
            </a>
          <% } %>
          <a href="#hackathons" class="btn btn-outline-light btn-lg">
            <i class="fas fa-eye me-2"></i>Browse Hackathons
          </a>
        </div>
      </div>
      <div class="col-lg-4 text-center">
        <div class="hero-icon">
          <i class="fas fa-users fa-6x text-white opacity-75"></i>
        </div>
        <div class="mt-3">
          <h5 class="text-white-50">Innovate Together</h5>
        </div>
      </div>
    </div>
  </div>

  <!-- What is a Hackathon Section -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          <div class="row align-items-center">
            <div class="col-lg-8">
              <h2 class="h3 mb-3">
                <i class="fas fa-lightbulb text-warning me-2"></i>Internal Hackathons
              </h2>
              <p class="lead mb-3">
                Company-sponsored innovation events where our teams collaborate intensively to solve
                business challenges, prototype new ideas, and drive internal innovation.
              </p>
              <div class="row">
                <div class="col-md-4 mb-3">
                  <div class="text-center">
                    <i class="fas fa-clock fa-2x text-primary mb-2"></i>
                    <h6>Focused Time</h6>
                    <small class="text-muted">Dedicated innovation time</small>
                  </div>
                </div>
                <div class="col-md-4 mb-3">
                  <div class="text-center">
                    <i class="fas fa-users fa-2x text-success mb-2"></i>
                    <h6>Cross-Team</h6>
                    <small class="text-muted">Anyone can create projects and collaborate</small>
                  </div>
                </div>
                <div class="col-md-4 mb-3">
                  <div class="text-center">
                    <i class="fas fa-trophy fa-2x text-warning mb-2"></i>
                    <h6>Recognition</h6>
                    <small class="text-muted">Present results and celebrate achievements</small>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 text-center">
              <div class="bg-light rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 120px; height: 120px;">
                <i class="fas fa-building fa-3x text-primary"></i>
              </div>
              <p class="text-muted small">Drive company innovation together</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Hackathons Section -->
  <div id="hackathons" class="mb-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="h3 mb-0">
        <i class="fas fa-list text-primary me-2"></i>All Hackathons
      </h2>
      <div class="btn-group" role="group">
        <input type="radio" class="btn-check" name="status-filter" id="all" autocomplete="off" checked>
        <label class="btn btn-outline-secondary btn-sm" for="all">All</label>
        <input type="radio" class="btn-check" name="status-filter" id="active" autocomplete="off">
        <label class="btn btn-outline-secondary btn-sm" for="active">Active</label>
        <input type="radio" class="btn-check" name="status-filter" id="upcoming" autocomplete="off">
        <label class="btn btn-outline-secondary btn-sm" for="upcoming">Upcoming</label>
        <input type="radio" class="btn-check" name="status-filter" id="completed" autocomplete="off">
        <label class="btn btn-outline-secondary btn-sm" for="completed">Completed</label>
      </div>
    </div>

  <%= for (hackathon) in hackathons { %>
    <div class="card mb-4 shadow-sm hackathon-card" data-status="<%= hackathon.Status %>">
      <div class="card-body">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h3 class="card-title mb-2">
              <a href="/hackathons/<%= hackathon.ID %>" class="text-decoration-none text-white">
                <i class="fas fa-trophy text-warning me-2"></i><%= hackathon.Title %>
              </a>
            </h3>
            <div class="card-text text-muted mb-3 markdown-body" data-markdown-source><%= hackathon.Description %></div>
            <div class="row">
              <div class="col-md-6">
                <small class="text-muted d-block mb-1">
                  <i class="fas fa-calendar-start text-primary me-1"></i>
                  <strong>Start:</strong> <%= hackathon.StartDate.Format("Jan 2, 2006 3:04 PM") %>
                </small>
              </div>
              <div class="col-md-6">
                <small class="text-muted d-block mb-1">
                  <i class="fas fa-calendar-check text-success me-1"></i>
                  <strong>End:</strong> <%= hackathon.EndDate.Format("Jan 2, 2006 3:04 PM") %>
                </small>
              </div>
            </div>
          </div>
          <div class="col-md-4 text-end">
            <div class="mb-3">
              <span class="badge fs-6 px-3 py-2 bg-<%= if (hackathon.Status == "active") { %>success<% } else if (hackathon.Status == "completed") { %>secondary<% } else { %>info<% } %>">
                <i class="fas fa-<%= if (hackathon.Status == "active") { %>play<% } else if (hackathon.Status == "completed") { %>check<% } else { %>clock<% } %> me-1"></i>
                <%= hackathon.Status %>
              </span>
            </div>
            <a href="/hackathons/<%= hackathon.ID %>" class="btn btn-primary">
              <i class="fas fa-eye me-1"></i>View Details
            </a>
          </div>
        </div>
      </div>
    </div>
  <% } %>

  <%= if (len(hackathons) == 0) { %>
    <div class="text-center py-5">
      <div class="mb-4">
        <i class="fas fa-building fa-4x text-muted"></i>
      </div>
      <h3 class="text-muted mb-3">No hackathons yet</h3>
      <p class="text-muted mb-4">Be the first to organize an internal hackathon and bring our teams together for innovation!</p>
      <%= if (current_user.IsOwner()) { %>
        <a href="/hackathons/new" class="btn btn-primary btn-lg">
          <i class="fas fa-plus me-2"></i>Create First Hackathon
        </a>
      <% } else { %>
        <p class="text-muted small">Check back soon for upcoming company hackathons!</p>
      <% } %>
    </div>
  <% } %>

  <%= if (pagination.TotalPages > 1) { %>
    <nav aria-label="Page navigation" class="mt-4">
      <ul class="pagination justify-content-center">
        <%= paginator(pagination) %>
      </ul>
    </nav>
  <% } %>
</div>



<script>
// Simple filter functionality for hackathon status
document.querySelectorAll('input[name="status-filter"]').forEach(radio => {
  radio.addEventListener('change', function() {
    const filter = this.id;
    const cards = document.querySelectorAll('.hackathon-card');

    cards.forEach(card => {
      if (filter === 'all' || card.dataset.status === filter) {
        card.style.display = 'block';
      } else {
        card.style.display = 'none';
      }
    });
  });
});

// Smooth scroll to hackathons section
document.querySelector('a[href="#hackathons"]').addEventListener('click', function(e) {
  e.preventDefault();
  document.getElementById('hackathons').scrollIntoView({ behavior: 'smooth' });
});
</script>

