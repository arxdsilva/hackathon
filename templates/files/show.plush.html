<div class="container mt-4">
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <div class="card">
        <div class="card-header">
          <h5><i class="fas fa-file"></i> <%= file.Filename %></h5>
        </div>
        <div class="card-body">
          <dl class="row">
            <dt class="col-sm-3">Filename:</dt>
            <dd class="col-sm-9"><%= file.Filename %></dd>

            <dt class="col-sm-3">Content Type:</dt>
            <dd class="col-sm-9"><%= file.ContentType %></dd>

            <dt class="col-sm-3">Size:</dt>
            <dd class="col-sm-9"><%= if (file.Size < 1024) { %><%= file.Size %> B<% } else if (file.Size < 1024*1024) { %><%= file.Size/1024 %> KB<% } else { %><%= file.Size/(1024*1024) %> MB<% } %></dd>

            <dt class="col-sm-3">Uploaded:</dt>
            <dd class="col-sm-9"><%= file.CreatedAt.Format("Jan 2, 2006 3:04 PM") %></dd>

            <dt class="col-sm-3">Uploaded by:</dt>
            <dd class="col-sm-9"><%= file.User.Name %> (<%= file.User.Email %>)</dd>

            <%= if (file.Hackathon != nil) { %>
              <dt class="col-sm-3">Hackathon:</dt>
              <dd class="col-sm-9"><a href="/hackathons/<%= file.Hackathon.ID %>"><%= file.Hackathon.Title %></a></dd>
            <% } %>

            <%= if (file.Project != nil) { %>
              <dt class="col-sm-3">Project:</dt>
              <dd class="col-sm-9"><a href="/hackathons/<%= file.Project.HackathonID %>/projects/<%= file.Project.ID %>"><%= file.Project.Name %></a></dd>
            <% } %>
          </dl>
        </div>
        <div class="card-footer">
          <a href="/files/<%= file.ID %>/download" class="btn btn-primary">
            <i class="fas fa-download"></i> Download File
          </a>
          <%= if (file.UserID == current_user.ID || current_user.IsOwner()) { %>
            <form method="POST" action="/files/<%= file.ID %>" style="display: inline; margin-left: 10px;">
              <input type="hidden" name="_method" value="DELETE">
              <input type="hidden" name="authenticity_token" value="<%= authenticity_token %>" />
              <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this file?')">
                <i class="fas fa-trash"></i> Delete
              </button>
            </form>
          <% } %>
          <a href="/files" class="btn btn-outline-secondary" style="margin-left: 10px;">
            <i class="fas fa-arrow-left"></i> Back to Files
          </a>
        </div>
      </div>
    </div>
  </div>
</div>